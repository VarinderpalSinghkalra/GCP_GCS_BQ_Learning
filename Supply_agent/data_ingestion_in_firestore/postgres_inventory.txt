gcloud services enable sqladmin.googleapis.com

gcloud sql instances create inventory-postgres \
  --database-version=POSTGRES_15 \
  --tier=db-custom-1-3840 \
  --region=us-central1 \
  --storage-size=20GB \
  --storage-type=SSD \
  --availability-type=zonal

gcloud sql users set-password postgres \
  --instance=inventory-postgres \
  --password=StrongPassword123

gcloud sql databases create supply_chain \
  --instance=inventory-postgres

gcloud sql connect inventory-postgres --user=postgres

CREATE DATABASE supply_chain1 ;

\c supply_chain1

CREATE EXTENSION IF NOT EXISTS "pgcrypto";

CREATE TABLE inventory (
    item_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    item_name TEXT NOT NULL,
    sku TEXT UNIQUE NOT NULL,
    quantity INT NOT NULL CHECK (quantity >= 0),
    warehouse_id TEXT NOT NULL,
    status TEXT DEFAULT 'AVAILABLE',
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

\d inventory;


INSERT INTO inventory (item_name, sku, quantity, warehouse_id) VALUES
('screws', 'screws', 2500, 'DEFAULT-WH'),
('bolts', 'bolts', 1800, 'DEFAULT-WH'),
('nuts', 'nuts', 3000, 'DEFAULT-WH'),
('washers', 'washers', 2200, 'DEFAULT-WH'),
('nails', 'nails', 5000, 'DEFAULT-WH'),
('hinges', 'hinges', 400, 'DEFAULT-WH'),
('anchors', 'anchors', 900, 'DEFAULT-WH'),
('rivets', 'rivets', 1200, 'DEFAULT-WH'),
('clamps', 'clamps', 350, 'DEFAULT-WH'),
('brackets', 'brackets', 800, 'DEFAULT-WH'),
('springs', 'springs', 650, 'DEFAULT-WH'),
('gaskets', 'gaskets', 1400, 'DEFAULT-WH'),
('o_rings', 'o_rings', 2000, 'DEFAULT-WH'),
('bearings', 'bearings', 300, 'DEFAULT-WH'),
('couplings', 'couplings', 270, 'DEFAULT-WH'),
('valves', 'valves', 180, 'DEFAULT-WH'),
('pipes', 'pipes', 500, 'DEFAULT-WH'),
('fittings', 'fittings', 1200, 'DEFAULT-WH'),
('cables', 'cables', 1000, 'DEFAULT-WH'),
('switches', 'switches', 600, 'DEFAULT-WH'),
('connectors', 'connectors', 1600, 'DEFAULT-WH');

SELECT item_id, item_name, sku, quantity, status, last_updated
FROM inventory
ORDER BY item_name;






